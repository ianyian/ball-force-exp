请为我生成一个交互式模拟“双摆动力学系统”的完整程序，使用 Three.js (WebGL) 技术栈
功能和要求：

1. 物理模拟

- 双摆的两个摆臂和摆球符合真实物理运动规律（考虑重力、能量守恒、非线性动力学）。
- 初始状态下双摆处于静止下垂位置。
- 使用数值积分方法（如 Runge-Kutta）来保证模拟的准确性和稳定性。

2. 交互控制

- 用户可以用鼠标拖动摆球，将双摆抬高到任意位置。
- 释放鼠标后，双摆会按照真实物理规律开始摆动。
- 鼠标拖动时应实时更新摆的位置。

3. 可视化与动画

- 平滑动画效果，帧率尽量接近真实时间。
- 清晰显示摆臂和摆球。
- 可以选择开启/关闭轨迹显示（摆球运动的路径）。

4. 附加要求

- 代码应包含清晰的注释，方便理解算法。
- 给出完整可运行的示例。
- 对于 Three.js 版本，生成可直接运行的 HTML+JS 文件。
  请根据上述要求输出完整程序代码。
